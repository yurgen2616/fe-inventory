<aside [class.w-20]="isCollapsed" 
       [class.w-72]="!isCollapsed" 
       class="bg-gradient-to-br from-gray-800 to-gray-900 fixed inset-0 z-50 my-4 ml-4 h-[calc(100vh-32px)] rounded-xl transition-all duration-300 -translate-x-80 xl:translate-x-0"
       id="sidebar">
       <div class="relative border-b border-white/20">
        <div class="flex items-center px-4 my-2">
          <!-- BotÃ³n de toggle a la izquierda -->
          <button (click)="toggleSidebar()"
            class="middle none font-sans font-bold center transition-all text-xs py-3 rounded-lg w-full flex items-center gap-4 px-4 capitalize text-white hover:bg-white/10"
            type="button">
            <svg xmlns="http://www.w3.org/2000/svg" 
                 [class.rotate-180]="isCollapsed"
                 class="w-5 h-5 text-inherit transition-transform duration-300" 
                 viewBox="0 0 24 24" 
                 fill="none"
                 stroke="currentColor">
              <path strokeLinecap="round" 
                    strokeLinejoin="round" 
                    strokeWidth="2" 
                    d="M15 19l-7-7 7-7" />
            </svg>
            <h6 [class.hidden]="isCollapsed" class="block antialiased font-sans text-base leading-relaxed text-inherit font-medium capitalize w-48 truncate text-left">
              DROGUERIA FREILLER</h6>
          </button>
        </div>
      </div>
  <div class="m-4 overflow-y-auto h-full max-h-[calc(90vh-90px)] custom-scrollbar">
    <ul class="mb-4 flex flex-col gap-1">
      <!-- Dashboard -->
      <li>
        <a routerLink="/dashboard" (click)="closeSidebarOnMobile()">
          <button
            routerLinkActive="bg-gradient-to-tr from-blue-600 to-blue-400 shadow-md shadow-blue-500/20 active:opacity-[0.85]"
            class="middle none font-sans font-bold center transition-all text-xs py-3 rounded-lg w-full flex items-center gap-4 px-4 capitalize text-white hover:bg-white/10"
            type="button">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"
              class="w-5 h-5 text-inherit">
              <path
                d="M11.47 3.84a.75.75 0 011.06 0l8.69 8.69a.75.75 0 101.06-1.06l-8.689-8.69a2.25 2.25 0 00-3.182 0l-8.69 8.69a.75.75 0 001.061 1.06l8.69-8.69z">
              </path>
              <path
                d="M12 5.432l8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 01-.75-.75v-4.5a.75.75 0 00-.75-.75h-3a.75.75 0 00-.75.75V21a.75.75 0 01-.75.75H5.625a1.875 1.875 0 01-1.875-1.875v-6.198a2.29 2.29 0 00.091-.086L12 5.43z">
              </path>
            </svg>
            <p [class.hidden]="isCollapsed" class="block antialiased font-sans text-base leading-relaxed text-inherit font-medium capitalize w-40 truncate text-left">
              inicio</p>
          </button>
        </a>
      </li>
      <!-- Product -->
      <li *ngIf="access.canGetProducts">
        <a  routerLink="/product" (click)="closeSidebarOnMobile()">
          <button
            routerLinkActive="bg-gradient-to-tr from-blue-600 to-blue-400 shadow-md shadow-blue-500/20 active:opacity-[0.85]"
            class="middle none font-sans font-bold center transition-all text-xs py-3 rounded-lg w-full flex items-center gap-4 px-4 capitalize text-white hover:bg-white/10"
            type="button">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"
              class="w-5 h-5 text-inherit">
              <path
                d="m8.433,18.607c.76.762.76,2.023-.013,2.798l-2.199,2.288c-.196.204-.458.307-.721.307-.25,0-.499-.093-.693-.279-.398-.383-.411-1.016-.028-1.414l1.256-1.307h-2.035c-2.206,0-4-1.794-4-4v-2c0-.553.448-1,1-1s1,.447,1,1v2c0,1.103.897,2,2,2h2.029l-1.25-1.307c-.383-.398-.371-1.031.028-1.414.397-.383,1.03-.37,1.414.027l2.212,2.301ZM20,3h-2.035l1.256-1.307c.383-.398.371-1.031-.028-1.414-.397-.382-1.03-.37-1.414.027l-2.199,2.288c-.773.774-.773,2.036-.013,2.798l2.212,2.301c.196.204.458.307.721.307.25,0,.499-.093.693-.279.398-.383.411-1.016.028-1.414l-1.25-1.307h2.029c1.103,0,2,.897,2,2v2c0,.553.448,1,1,1s1-.447,1-1v-2c0-2.206-1.794-4-4-4Zm3.996,12.715v3.555c0,1.074-.579,2.072-1.512,2.604l-3,1.715c-.459.263-.974.394-1.488.394s-1.029-.131-1.489-.394l-3-1.715c-.932-.531-1.512-1.529-1.512-2.604v-3.555c0-1.074.579-2.072,1.512-2.605l3-1.714c.918-.525,2.058-.525,2.977,0l3,1.714c.933.533,1.512,1.532,1.512,2.605Zm-9.262-1.003l3.266,1.837,3.262-1.834-2.77-1.583c-.153-.088-.325-.131-.496-.131s-.343.043-.496.131l-2.767,1.58Zm2.266,6.854v-3.285l-3.004-1.689v2.677c0,.358.193.69.503.867l2.501,1.43Zm4.996-2.297v-2.672l-2.996,1.685v3.28l2.492-1.424h0c.311-.178.503-.51.503-.868ZM13,6.5c0,3.59-2.91,6.5-6.5,6.5S0,10.09,0,6.5,2.91,0,6.5,0s6.5,2.91,6.5,6.5Zm-2.5,1.897c.01-1.297-.916-2.397-2.193-2.61l-3.261-.544c-.289-.048-.523-.281-.544-.574-.026-.365.263-.67.622-.67h2.376c.367,0,.689.199.862.494.182.31.509.506.869.506.763,0,1.253-.825.874-1.487-.518-.903-1.491-1.513-2.605-1.513,0-.552-.448-1-1-1s-1,.448-1,1h-.315c-1.451,0-2.673,1.152-2.685,2.603-.01,1.297.915,2.397,2.192,2.61l3.286.548c.315.052.54.331.52.655-.02.334-.315.585-.649.585h-2.35c-.367,0-.688-.199-.862-.494-.182-.31-.509-.506-.869-.506-.763,0-1.253.825-.874,1.487.518.903,1.491,1.513,2.605,1.513,0,.552.448,1,1,1s1-.448,1-1h.315c1.451,0,2.673-1.152,2.685-2.603Z" />
            </svg>
            <p [class.hidden]="isCollapsed" class="block antialiased font-sans text-base leading-relaxed text-inherit font-medium capitalize w-40 truncate text-left">
              productos</p>
          </button>
        </a>
      </li>
      <li *ngIf="access.canGetExtras">
        <a  routerLink="/extras" (click)="closeSidebarOnMobile()">
          <button
            routerLinkActive="bg-gradient-to-tr from-blue-600 to-blue-400 shadow-md shadow-blue-500/20 active:opacity-[0.85]"
            class="middle none font-sans font-bold center transition-all text-xs py-3 rounded-lg w-full flex items-center gap-4 px-4 capitalize text-white hover:bg-white/10"
            type="button">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"
              class="w-5 h-5 text-inherit">
              <path
                d="M22,9H13v6h9c1.1,0,2-.9,2-2v-2c0-1.1-.9-2-2-2Zm0,4h-7v-2h7v2Zm0-13H13V6h9c1.1,0,2-.9,2-2V2c0-1.1-.9-2-2-2Zm0,4h-7V2h7v2Zm0,14H13v6h9c1.1,0,2-.9,2-2v-2c0-1.1-.9-2-2-2Zm0,4h-7v-2h7v2ZM8,13H3c-1.65,0-3,1.35-3,3v8H11v-8c0-1.65-1.35-3-3-3Zm1,9H2v-6c0-.55,.45-1,1-1h5c.55,0,1,.45,1,1v6ZM8,0H3C1.35,0,0,1.35,0,3V11H11V3c0-1.65-1.35-3-3-3Zm1,9H2V3c0-.55,.45-1,1-1h5c.55,0,1,.45,1,1v6Z" />
            </svg>
            <p [class.hidden]="isCollapsed" class="block antialiased font-sans text-base leading-relaxed text-inherit font-medium capitalize w-40 truncate text-left">
              Extras
            </p>
          </button>
        </a>
      </li>

      <li *ngIf="access.canGetSales">
        <a  routerLink="/sale" (click)="closeSidebarOnMobile()">
          <button
            routerLinkActive="bg-gradient-to-tr from-blue-600 to-blue-400 shadow-md shadow-blue-500/20 active:opacity-[0.85]"
            class="middle none font-sans font-bold center transition-all text-xs py-3 rounded-lg w-full flex items-center gap-4 px-4 capitalize text-white hover:bg-white/10"
            type="button">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"
              class="w-5 h-5 text-inherit">
              <path
                d="M18,12a5.993,5.993,0,0,1-5.191-9H4.242L4.2,2.648A3,3,0,0,0,1.222,0H1A1,1,0,0,0,1,2h.222a1,1,0,0,1,.993.883l1.376,11.7A5,5,0,0,0,8.557,19H19a1,1,0,0,0,0-2H8.557a3,3,0,0,1-2.821-2H17.657a5,5,0,0,0,4.921-4.113l.238-1.319A5.984,5.984,0,0,1,18,12Z" />
              <circle cx="7" cy="22" r="2" />
              <circle cx="17" cy="22" r="2" />
              <path d="M15,7h2V9a1,1,0,0,0,2,0V7h2a1,1,0,0,0,0-2H19V3a1,1,0,0,0-2,0V5H15a1,1,0,0,0,0,2Z" />
            </svg>
            <p [class.hidden]="isCollapsed" class="block antialiased font-sans text-base leading-relaxed text-inherit font-medium capitalize w-40 truncate text-left">
              Vender
            </p>
          </button>
        </a>
      </li>
      <li *ngIf="access.canGetStock">
        <a  routerLink="/stock" (click)="closeSidebarOnMobile()">
          <button
            routerLinkActive="bg-gradient-to-tr from-blue-600 to-blue-400 shadow-md shadow-blue-500/20 active:opacity-[0.85]"
            class="middle none font-sans font-bold center transition-all text-xs py-3 rounded-lg w-full flex items-center gap-4 px-4 capitalize text-white hover:bg-white/10"
            type="button">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"
              class="w-5 h-5 text-inherit">
              <path xmlns="http://www.w3.org/2000/svg"
                d="M22,10.618h-4.782c-.518,0-.95,.395-.996,.911-.089,.994-.246,1.807-.359,2.306-.765,.169-2.24,.438-3.862,.438s-3.098-.27-3.864-.439c-.114-.497-.271-1.307-.359-2.305-.046-.516-.478-.912-.996-.912H2c-.552,0-1,.448-1,1,0,5.175,1.146,8.982,1.194,9.142,.1,.325,.358,.578,.686,.67,.172,.049,4.272,1.188,9.121,1.188s8.948-1.139,9.12-1.188c.329-.093,.588-.347,.687-.674,.049-.161,1.193-4.007,1.193-9.139,0-.552-.448-1-1-1Z" />
              <path xmlns="http://www.w3.org/2000/svg"
                d="M11.475,11.322c.482,.178,.881,.063,1.051,0,.251-.094,2.5-1.01,4.167-4.231,.38-.736,.092-1.641-.644-2.021-.735-.381-1.641-.092-2.021,.644-.172,.332-.349,.627-.527,.889V2.882c0-.829-.671-1.5-1.5-1.5s-1.5,.671-1.5,1.5v3.72c-.178-.262-.355-.557-.527-.889-.38-.736-1.285-1.024-2.021-.644-.736,.381-1.024,1.286-.644,2.021,1.666,3.221,3.915,4.138,4.167,4.231Z" />
            </svg>
            <p [class.hidden]="isCollapsed" class="block antialiased font-sans text-base leading-relaxed text-inherit font-medium capitalize w-40 truncate text-left">
              Stock
            </p>
          </button>
        </a>
      </li>
      <li *ngIf="access.canGetReports">
        <a routerLink="/reportes" (click)="closeSidebarOnMobile()">
          <button
            routerLinkActive="bg-gradient-to-tr from-blue-600 to-blue-400 shadow-md shadow-blue-500/20 active:opacity-[0.85]"
            class="middle none font-sans font-bold center transition-all text-xs py-3 rounded-lg w-full flex items-center gap-4 px-4 capitalize text-white hover:bg-white/10"
            type="button">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"
              class="w-5 h-5 text-inherit">
              <path xmlns="http://www.w3.org/2000/svg"
                d="m20.5,13h-5c-1.93,0-3.5,1.57-3.5,3.5v4c0,1.93,1.57,3.5,3.5,3.5h5c1.93,0,3.5-1.57,3.5-3.5v-4c0-1.93-1.57-3.5-3.5-3.5Zm-1.5,5h-2c-.553,0-1-.447-1-1s.447-1,1-1h2c.553,0,1,.447,1,1s-.447,1-1,1Zm-9,2.5v-4c0-3.032,2.467-5.5,5.5-5.5h2.5v-4c0-2.757-2.243-5-5-5h-.171c-.413-1.164-1.525-2-2.829-2h-2c-1.304,0-2.416.836-2.829,2h-.171C2.243,2,0,4.243,0,7v12c0,2.757,2.243,5,5,5h6.261c-.787-.952-1.261-2.172-1.261-3.5Zm2-13.582h2c.553,0,1,.448,1,1s-.447,1-1,1h-2c-.552,0-1-.448-1-1s.448-1,1-1Zm-2.793,6.207l-2.227,2.227c-.431.431-.995.648-1.56.648-.533,0-1.067-.193-1.491-.582l-1.105-1.013c-.407-.373-.435-1.006-.062-1.413.373-.406,1.006-.435,1.413-.062l1.105,1.013c.082.075.208.073.286-.006l2.227-2.227c.391-.391,1.023-.391,1.414,0s.391,1.023,0,1.414Zm0-6.08l-2.227,2.227c-.431.431-.995.648-1.56.648-.533,0-1.067-.193-1.491-.582l-1.105-1.013c-.407-.373-.435-1.006-.062-1.413.373-.406,1.006-.435,1.413-.062l1.105,1.013c.082.076.208.073.286-.006l2.227-2.227c.391-.391,1.023-.391,1.414,0s.391,1.023,0,1.414Z" />
            </svg>
            <p [class.hidden]="isCollapsed" class="block antialiased font-sans text-base leading-relaxed text-inherit font-medium capitalize w-40 truncate text-left">
              Reportes</p>
          </button>
        </a>
      </li>
      <li *ngIf="access.canGetReturns">
        <a routerLink="/return" (click)="closeSidebarOnMobile()">
          <button
            routerLinkActive="bg-gradient-to-tr from-blue-600 to-blue-400 shadow-md shadow-blue-500/20 active:opacity-[0.85]"
            class="middle none font-sans font-bold center transition-all text-xs py-3 rounded-lg w-full flex items-center gap-4 px-4 capitalize text-white hover:bg-white/10"
            type="button">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"
              class="w-5 h-5 text-inherit">
              <path xmlns="http://www.w3.org/2000/svg"
                d="M20.5,5c-1.105,0-2-.895-2-2,0-1.105,.895-2,2-2s2,.895,2,2c0,1.105-.895,2-2,2ZM13,.25V2h-3V4h3v1.75l2.509-2.17c.34-.305,.34-.837,0-1.142L13,.25Zm-1,5l-2.509,2.17c-.34,.305-.34,.837,0,1.142l2.509,2.188v-1.75h3v-2h-3s0-1.75,0-1.75Zm5,2.75v1h7v-1c0-1.103-.897-2-2-2h-3c-1.103,0-2,.897-2,2ZM2,1H6c1.103,0,2,.897,2,2v6S0,9,0,9V3C0,1.897,.897,1,2,1Zm.5,4h3V3H2.5v2Zm20.648,6.681c-1.007-.963-2.764-.882-3.672,.157l-3.541,3.737c.032,.21,.065,.42,.065,.638,0,2.083-1.555,3.876-3.617,4.17l-4.241,.606-.283-1.979,4.241-.606c1.084-.155,1.9-1.097,1.9-2.191,0-1.22-.993-2.213-2.213-2.213H3c-1.654,0-3,1.346-3,3v7H15.411l7.927-8.655c.948-1.062,.862-2.707-.189-3.665Z" />
            </svg>
            <p [class.hidden]="isCollapsed" class="block antialiased font-sans text-base leading-relaxed text-inherit font-medium capitalize w-40 truncate text-left">
              Devoluciones</p>
          </button>
        </a>
      </li>
      <li>
<!-- Update the notifications button in sidebar.component.html -->
<a *ngIf="access.canGetNotifications" routerLink="/notifications" (click)="closeSidebarOnMobile()">
  <button
    routerLinkActive="bg-gradient-to-tr from-blue-600 to-blue-400 shadow-md shadow-blue-500/20 active:opacity-[0.85]"
    class="middle none font-sans font-bold center transition-all text-xs py-3 rounded-lg w-full flex items-center gap-4 px-4 capitalize text-white hover:bg-white/10 relative"
    type="button">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"
      class="w-5 h-5 text-inherit">
      <path fill-rule="evenodd"
        d="M5.25 9a6.75 6.75 0 0113.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 01-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 11-7.48 0 24.585 24.585 0 01-4.831-1.244.75.75 0 01-.298-1.205A8.217 8.217 0 005.25 9.75V9zm4.502 8.9a2.25 2.25 0 104.496 0 25.057 25.057 0 01-4.496 0z"
        clip-rule="evenodd"></path>
    </svg>
    <!-- Notification counter badge -->
    <div *ngIf="totalNotifications > 0" 
         class="absolute -top-0 -right-0 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center">
      {{ totalNotifications }}
    </div>
    <p [class.hidden]="isCollapsed" class="block antialiased font-sans text-base leading-relaxed text-inherit font-medium capitalize w-40 truncate text-left">
      Notificaciones
    </p>
  </button>
</a>
      </li>
      <li>
        <a class="" href="Cerrar SesiÃ³n">
          <button
          (click)="logout()"
            class="middle none font-sans font-bold center transition-all disabled:opacity-50 disabled:shadow-none disabled:pointer-events-none text-xs py-3 rounded-lg text-white hover:bg-white/10 active:bg-white/30 w-full flex items-center gap-4 px-4 capitalize"
            type="button">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"
              class="w-5 h-5 text-inherit">
              <path xmlns="http://www.w3.org/2000/svg" d="M12.338,16.177c-.826-.085-1.555,.532-1.63,1.357-.063,.689-.125,1.322-.173,1.803-.707,.238-1.832,.536-3.03,.536-1.176,0-2.327-.308-3.05-.55-.163-1.422-.454-4.375-.454-7.322s.292-5.904,.455-7.327c.715-.24,1.857-.545,3.05-.545,1.203,0,2.325,.297,3.03,.535,.049,.48,.111,1.113,.174,1.804,.075,.825,.795,1.431,1.631,1.356,.825-.076,1.432-.806,1.356-1.631-.139-1.513-.272-2.755-.272-2.755-.056-.519-.377-.971-.848-1.195-.096-.046-2.379-1.115-5.071-1.115-2.644,0-4.963,1.064-5.061,1.109-.462,.215-.784,.65-.854,1.156-.024,.175-.59,4.33-.59,8.607s.565,8.432,.59,8.606c.07,.509,.396,.947,.864,1.16,.099,.045,2.455,1.105,5.051,1.105,2.686,0,4.974-1.069,5.07-1.115,.472-.224,.794-.677,.85-1.197,0,0,.132-1.244,.271-2.753,.076-.825-.532-1.555-1.357-1.63Z"/>
              <path xmlns="http://www.w3.org/2000/svg" d="M22.887,11.43c-.132-.322-1.427-3.21-6.024-5.373-.75-.353-1.643-.03-1.996,.719-.353,.75-.031,1.644,.719,1.996,1.193,.561,2.092,1.167,2.762,1.728H9.173c-.829,0-1.5,.671-1.5,1.5s.671,1.5,1.5,1.5h9.174c-.67,.561-1.569,1.167-2.762,1.728-.75,.353-1.071,1.246-.719,1.996,.256,.543,.795,.862,1.358,.862,.214,0,.431-.046,.638-.143,4.543-2.137,5.879-5.031,6.017-5.354,.157-.37,.16-.788,.007-1.159Z"/>
            </svg>
            <p [class.hidden]="isCollapsed" class="block antialiased font-sans text-base leading-relaxed text-inherit font-medium capitalize w-40 truncate text-left">
              Cerrar sesion
            </p>
          </button>
        </a>
      </li>
    </ul>
  </div>
</aside>

<style>
  /* PersonalizaciÃ³n del scrollbar */
  .custom-scrollbar::-webkit-scrollbar {
    width: 1px;
    /* Ancho de la barra de scroll */
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
    /* Fondo de la pista del scroll */
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background-color: #3b82f6;
    /* Color azul del scroll */
    border-radius: 4px;
    /* Bordes redondeados */
    border: 2px solid transparent;
    /* Espacio alrededor del scroll */
    background-clip: content-box;
    /* Ajuste de borde */
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background-color: #2563eb;
    /* Azul mÃ¡s oscuro al pasar el mouse */
  }
</style>